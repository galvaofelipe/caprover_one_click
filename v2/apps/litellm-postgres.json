{"captainVersion":2,"dockerCompose":{"services":{"$$cap_appname":{"restart":"unless-stopped","environment":{"DATABASE_URL":"postgres://litellm:$$cap_db_password@srv-captain--$$cap_appname-db:5432/litellm_db","REDIS_PASSWORD":"$$cap_redis_password","REDIS_HOST":"srv-captain--$$cap_appname-redis","REDIS_PORT":6379,"LITELLM_MASTER_KEY":"$$cap_master_key","UI_USERNAME":"$$cap_ui_username","UI_PASSWORD":"$$cap_ui_password","OPENAI_API_KEY":"$$cap_openai_api_key","OPENAI_ORGANIZATION":"$$cap_openai_organization","OPENAI_API_BASE":"$$cap_openai_api_base","AZURE_API_KEY":"$$cap_azure_api_key","AZURE_API_BASE":"$$cap_azure_api_base","AZURE_API_VERSION":"$$cap_azure_api_version","AZURE_AD_TOKEN":"$$cap_azure_ad_token","AZURE_API_TYPE":"$$cap_azure_api_type","AZURE_VISION_ENHANCE_KEY":"$$cap_azure_vision_enhance_key","AZURE_MISTRAL_API_KEY":"$$cap_azure_mistral_api_key","AZURE_MISTRAL_API_BASE":"$$cap_azure_mistral_api_base","VERTEXAI_PROJECT":"$$cap_vertexai_project","VERTEXAI_LOCATION":"$$cap_vertexai_location","GOOGLE_APPLICATION_CREDENTIALS":"$$cap_google_application_credentials","PALM_API_KEY":"$$cap_palm_api_key","GEMINI_API_KEY":"$$cap_gemini_api_key","MISTRAL_API_KEY":"$$cap_mistral_api_key","ANTHROPIC_API_KEY":"$$cap_anthropic_api_key","AWS_ACCESS_KEY_ID":"$$cap_aws_access_key_id","AWS_SECRET_ACCESS_KEY":"$$cap_aws_secret_access_key","AWS_REGION_NAME":"$$cap_aws_region_name","COHERE_API_KEY":"$$cap_cohere_api_key","ANYSCALE_API_KEY":"$$cap_anyscale_api_key","HUGGINGFACE_API_KEY":"$$cap_huggingface_api_key","HUGGINGFACE_API_BASE":"$$cap_huggingface_api_base","PERPLEXITYAI_API_KEY":"$$cap_perplexityai_api_key","GROQ_API_KEY":"$$cap_groq_api_key","FIREWORKS_AI_API_KEY":"$$cap_fireworks_ai_api_key","XINFERENCE_API_KEY":"$$cap_xinference_api_key","XINFERENCE_API_BASE":"$$cap_xinference_api_base","CLOUDFLARE_API_KEY":"$$cap_cloudflare_api_key","CLOUDFLARE_ACCOUNT_ID":"$$cap_cloudflare_account_id","DEEPINFRA_API_KEY":"$$cap_deepinfra_api_key","AI21_API_KEY":"$$cap_ai21_api_key","NLP_CLOUD_API_KEY":"$$cap_nlp_cloud_api_key","REPLICATE_API_KEY":"$$cap_replicate_api_key","TOGETHERAI_API_KEY":"$$cap_togetherai_api_key","VOYAGE_API_KEY":"$$cap_voyage_api_key","ALEPHALPHA_API_KEY":"$$cap_alephalpha_api_key","BASETEN_API_KEY":"$$cap_baseten_api_key","OPENROUTER_API_KEY":"$$cap_openrouter_api_key","OR_SITE_URL":"$$cap_or_site_url","OR_APP_NAME":"$$cap_or_app_name"},"depends_on":["$$cap_appname-db","$$cap_appname-redis"],"volumes":["$$cap_appname-data:/data"],"containerHttpPort":4000,"dockerfileLines":["FROM ghcr.io/berriai/litellm:main-latest","RUN mkdir -p /data","RUN cat <<'EOF' > /entrypoint.sh\n#!/bin/bash\n\n# Check if config file exists, create if not\nCONFIG_FILE=\"/data/config.yaml\"\nif [ ! -f \"$CONFIG_FILE\" ]; then\n  echo \"Creating configuration file at $CONFIG_FILE\"\n  echo \"general_settings:\" > $CONFIG_FILE\n  echo \"  master_key: \\${LITELLM_MASTER_KEY}\" >> $CONFIG_FILE\n  echo \"  proxy_batch_write_at: 60\" >> $CONFIG_FILE\n  echo \"  disable_spend_logs: true\" >> $CONFIG_FILE\n  echo \"  disable_reset_budget: true\" >> $CONFIG_FILE\n  echo \"  database_connection_pool_limit: 100\" >> $CONFIG_FILE\n  echo \"  database_connection_timeout: 60\" >> $CONFIG_FILE\n  echo \"  database_url: \\${DATABASE_URL}\" >> $CONFIG_FILE\n  echo \"  database_type: postgres\" >> $CONFIG_FILE\n  echo \"  background_health_checks: true\" >> $CONFIG_FILE\n  echo \"  health_check_interval: 300\" >> $CONFIG_FILE\n  echo \"router_settings:\" >> $CONFIG_FILE\n  echo \"  routing_strategy: usage-based-routing-v2\" >> $CONFIG_FILE\n  echo \"  redis_host: \\${REDIS_HOST}\" >> $CONFIG_FILE\n  echo \"  redis_port: \\${REDIS_PORT}\" >> $CONFIG_FILE\n  echo \"  redis_password: \\${REDIS_PASSWORD}\" >> $CONFIG_FILE\n  echo \"  num_retries: 3\" >> $CONFIG_FILE\n  echo \"  timeout: 60\" >> $CONFIG_FILE\nfi\n\n# Start the main application\nlitellm \"-config /data/config.yaml -port 4000\"\nEOF","RUN sed -i \"s/\\r$//\" /entrypoint.sh","RUN chmod +x /entrypoint.sh","ENTRYPOINT [\"/entrypoint.sh\"]"]},"$$cap_appname-db":{"image":"postgres:$$cap_postgres_version","restart":"unless-stopped","environment":{"POSTGRES_DB":"litellm_db","POSTGRES_PASSWORD":"$$cap_db_password","POSTGRES_USER":"litellm","POSTGRES_INITDB_ARGS":"--encoding='UTF8' --lc-collate='C' --lc-ctype='C'"},"volumes":["$$cap_appname-db-data:/var/lib/postgresql/data"],"notExposeAsWebApp":true},"$$cap_appname-redis":{"restart":"always","image":"bitnami/redis:$$cap_redis_version","environment":{"REDIS_PASSWORD":"$$cap_redis_password"},"volumes":["$$cap_appname-redis-data:/bitnami"],"notExposeAsWebApp":true}}},"variables":[{"id":"$$cap_postgres_version","label":"PostgreSQL Version","defaultValue":"15.6","description":"The version of PostgreSQL to use."},{"id":"$$cap_redis_version","label":"Redis Version","defaultValue":"6.2","description":"The version of Redis to use."},{"id":"$$cap_tz","label":"Timezone","defaultValue":"America/Sao_Paulo","description":"The time zone of your server https://en.wikipedia.org/wiki/List_of_tz_database_time_zones"},{"id":"$$cap_db_password","label":"Database Password","defaultValue":"$$cap_gen_random_hex(20)","description":"The password for the PostgreSQL database user."},{"id":"$$cap_redis_password","label":"Redis Password","defaultValue":"$$cap_gen_random_hex(20)","description":"The password for the Redis instance."},{"id":"$$cap_master_key","label":"LiteLLM Master Key","description":"The master key for LiteLLM."},{"id":"$$cap_ui_username","label":"UI Username","defaultValue":"litellm","description":"The username for accessing the LiteLLM web interface."},{"id":"$$cap_ui_password","label":"UI Password","description":"The password for accessing the LiteLLM web interface."},{"id":"$$cap_openai_api_key","label":"OpenAI API Key","description":"The API key for OpenAI."},{"id":"$$cap_openai_organization","label":"OpenAI Organization","description":"The organization ID for OpenAI."},{"id":"$$cap_openai_api_base","label":"OpenAI API Base URL","description":"The base URL for the OpenAI API."},{"id":"$$cap_azure_api_key","label":"Azure API Key","description":"The API key for Azure Cognitive Services."},{"id":"$$cap_azure_api_base","label":"Azure API Base URL","description":"The base URL for Azure Cognitive Services API."},{"id":"$$cap_azure_api_version","label":"Azure API Version","description":"The version of the Azure Cognitive Services API."},{"id":"$$cap_azure_ad_token","label":"Azure AD Token","description":"The Azure Active Directory token for authentication."},{"id":"$$cap_azure_api_type","label":"Azure API Type","description":"The type of Azure Cognitive Services API (e.g., language, vision)."},{"id":"$$cap_azure_vision_enhance_key","label":"Azure Vision Enhance Key","description":"The API key for Azure Vision Enhance service."},{"id":"$$cap_azure_mistral_api_key","label":"Azure Mistral API Key","description":"The API key for Azure Mistral service."},{"id":"$$cap_azure_mistral_api_base","label":"Azure Mistral API Base URL","description":"The base URL for Azure Mistral API."},{"id":"$$cap_vertexai_project","label":"Vertex AI Project","description":"The project ID for Vertex AI."},{"id":"$$cap_vertexai_location","label":"Vertex AI Location","description":"The location for Vertex AI resources."},{"id":"$$cap_google_application_credentials","label":"Google Application Credentials","description":"The path to the Google application credentials JSON file."},{"id":"$$cap_palm_api_key","label":"Palm API Key","description":"The API key for Google Palm service."},{"id":"$$cap_gemini_api_key","label":"Gemini API Key","description":"The API key for Gemini service."},{"id":"$$cap_mistral_api_key","label":"Mistral API Key","description":"The API key for Mistral service."},{"id":"$$cap_anthropic_api_key","label":"Anthropic API Key","description":"The API key for Anthropic service."},{"id":"$$cap_aws_access_key_id","label":"AWS Access Key ID","description":"The access key ID for AWS."},{"id":"$$cap_aws_secret_access_key","label":"AWS Secret Access Key","description":"The secret access key for AWS."},{"id":"$$cap_aws_region_name","label":"AWS Region Name","description":"The region name for AWS services."},{"id":"$$cap_cohere_api_key","label":"Cohere API Key","description":"The API key for Cohere service."},{"id":"$$cap_anyscale_api_key","label":"Anyscale API Key","description":"The API key for Anyscale service."},{"id":"$$cap_huggingface_api_key","label":"Hugging Face API Key","description":"The API key for Hugging Face service."},{"id":"$$cap_huggingface_api_base","label":"Hugging Face API Base URL","description":"The base URL for Hugging Face API."},{"id":"$$cap_perplexityai_api_key","label":"Perplexity AI API Key","description":"The API key for Perplexity AI service."},{"id":"$$cap_groq_api_key","label":"Groq API Key","description":"The API key for Groq service."},{"id":"$$cap_fireworks_ai_api_key","label":"Fireworks AI API Key","description":"The API key for Fireworks AI service."},{"id":"$$cap_xinference_api_key","label":"Xinference API Key","description":"The API key for Xinference service."},{"id":"$$cap_xinference_api_base","label":"Xinference API Base URL","description":"The base URL for Xinference API."},{"id":"$$cap_cloudflare_api_key","label":"Cloudflare API Key","description":"The API key for Cloudflare service."},{"id":"$$cap_cloudflare_account_id","label":"Cloudflare Account ID","description":"The account ID for Cloudflare."},{"id":"$$cap_deepinfra_api_key","label":"DeepInfra API Key","description":"The API key for DeepInfra service."},{"id":"$$cap_ai21_api_key","label":"AI21 API Key","description":"The API key for AI21 service."},{"id":"$$cap_nlp_cloud_api_key","label":"NLP Cloud API Key","description":"The API key for NLP Cloud service."},{"id":"$$cap_replicate_api_key","label":"Replicate API Key","description":"The API key for Replicate service."},{"id":"$$cap_togetherai_api_key","label":"TogetherAI API Key","description":"The API key for TogetherAI service."},{"id":"$$cap_voyage_api_key","label":"Voyage API Key","description":"The API key for Voyage service."},{"id":"$$cap_alephalpha_api_key","label":"Aleph Alpha API Key","description":"The API key for Aleph Alpha service."},{"id":"$$cap_baseten_api_key","label":"Baseten API Key","description":"The API key for Baseten service."},{"id":"$$cap_openrouter_api_key","label":"OpenRouter API Key","description":"The API key for OpenRouter service."},{"id":"$$cap_or_site_url","label":"OpenRouter Site URL","description":"The site URL for OpenRouter."},{"id":"$$cap_or_app_name","label":"OpenRouter App Name","description":"The app name for OpenRouter."}],"instructions":{"start":"LiteLLM is a lightweight, scalable, and secure API proxy server for LLMs.\nBefore installing the LiteLLM app, please ensure you have the following:\n1. API keys for the AI providers you want to use (e.g., OpenAI, Hugging Face, Azure, etc.). 2. A master key for securing your LiteLLM instance. 3. Credentials (username and password) for accessing the LiteLLM web interface.\nDuring the installation process, you will be asked to provide the following information:\n1. PostgreSQL and Redis versions to use. 2. Database and Redis passwords (generated automatically if not provided). 3. LiteLLM master key for encryption. 4. Username and password for the LiteLLM web interface. 5. API keys and configurations for the AI providers you want to use.\nPlease have this information ready before proceeding with the installation.\nOnce you have provided the necessary information and the app is successfully deployed, you can access the LiteLLM web interface and API using the URLs provided in the post-installation instructions.\nIf you encounter any issues during the installation or have any questions, please refer to the LiteLLM documentation: https://docs.litellm.ai/docs/","end":"LiteLLM has been successfully deployed!\n\nTo access the LiteLLM web interface, visit:\nhttp://$$cap_appname.$$cap_root_domain/ui\n\nThe API Swagger docs is available at the root:\nhttp://$$cap_appname.$$cap_root_domain/\n\n### Postgres Database Details:\n- Postgres Host: srv-captain--$$cap_appname-db\n- Postgres Port: 5432\n- Postgres Database Name: litellm_db\n- Postgres Database User: litellm\n- Postgres Password: $$cap_db_password\n\n### Redis Details:\n- Redis Host: srv-captain--$$cap_appname-redis\n- Redis Port: 6379\n- Redis Password: $$cap_redis_password"},"displayName":"LiteLLM (with Postgres) - LLM Proxy Server","isOfficial":false,"description":"LiteLLM is a lightweight, scalable, and secure API proxy server for OpenAI, Huggingface, Azure, and other AI providers.","documentation":"Taken from https://docs.litellm.ai/docs/ Official Website is https://litellm.ai/"}
